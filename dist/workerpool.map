{"version":3,"file":"workerpool.map","sources":["./dist/workerpool.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_6__","__WEBPACK_EXTERNAL_MODULE_8__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","pool","options","Pool","worker","methods","environment","blob","Blob","type","url","window","URL","createObjectURL","importScripts","add","Promise","script","isNumber","maxWorkers","isInteger","TypeError","numCPUs","cpus","length","Math","max","workers","tasks","value","round","WorkerHandler","prototype","run","fn","args","Array","isArray","exec","String","method","params","resolver","defer","push","_next","promise","proxy","then","forEach","slice","arguments","_getWorker","me","task","shift","pending","catch","terminated","_removeWorker","i","ii","busy","terminate","index","indexOf","splice","clear","force","isPromise","self","postMessage","addEventListener","on","event","callback","message","data","send","process","Error","bind","f","eval","apply","Object","keys","request","result","error","err","toString","register","name","hasOwnProperty","handler","parent","SyntaxError","_onSuccess","_onFail","resolved","rejected","_process","onSuccess","onFail","resolve","reject","s","_then","_resolve","_reject","cancel","CancellationError","timeout","delay","timer","setTimeout","TimeoutError","always","clearTimeout","res","stack","all","promises","remaining","results","constructor","getDefaultWorker","__dirname","onError","processing","Worker","fork","response","terminating","lastId","kill"],"mappings":"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"}