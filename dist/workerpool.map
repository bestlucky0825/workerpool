{"version":3,"sources":["./dist/workerpool.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_6__","__WEBPACK_EXTERNAL_MODULE_7__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","window","pool","script","options","Pool","worker","methods","environment","blob","Blob","type","url","URL","createObjectURL","importScripts","add","Promise","isNumber","maxWorkers","isInteger","TypeError","numCPUs","cpus","length","Math","max","workers","tasks","value","round","WorkerHandler","prototype","exec","method","params","Array","isArray","resolver","defer","push","_next","promise","String","proxy","arguments","Error","then","forEach","slice","_getWorker","me","task","shift","pending","terminated","_removeWorker","i","ii","busy","terminate","index","indexOf","splice","clear","force","handler","parent","SyntaxError","_onSuccess","_onFail","resolved","rejected","_process","onSuccess","onFail","resolve","reject","s","_then","f","_resolve","result","fn","_reject","error","cancel","CancellationError","timeout","delay","timer","setTimeout","TimeoutError","always","clearTimeout","callback","res","message","stack","all","promises","remaining","results","constructor","name","getDefaultWorker","__dirname","onError","processing","hasOwnProperty","Worker","on","event","addEventListener","data","send","postMessage","fork","response","terminating","lastId","request","Object","keys","kill","isPromise","self","process","bind","run","args","eval","apply","err","toString","register"],"mappings":"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","file":"workerpool.map"}