{"version":3,"sources":["./dist/workerpool.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","window","pool","script","options","Pool","worker","methods","environment","blob","Blob","type","url","URL","createObjectURL","importScripts","add","Promise","isNumber","maxWorkers","isInteger","TypeError","numCPUs","navigator","hardwareConcurrency","node","require","cpus","length","Math","max","workers","tasks","value","round","WorkerHandler","prototype","exec","method","params","Array","isArray","resolver","defer","push","_next","promise","String","proxy","arguments","Error","then","forEach","slice","_getWorker","me","task","shift","pending","catch","terminated","_removeWorker","i","ii","busy","terminate","index","indexOf","splice","clear","force","handler","parent","SyntaxError","_onSuccess","_onFail","resolved","rejected","_process","onSuccess","onFail","resolve","reject","s","_then","f","_resolve","result","fn","_reject","error","cancel","CancellationError","timeout","delay","timer","setTimeout","TimeoutError","always","clearTimeout","callback","res","message","stack","all","promises","remaining","results","constructor","name","getDefaultWorker","__dirname","objectToError","obj","temp","props","Object","keys","onError","processing","hasOwnProperty","Worker","on","event","addEventListener","data","send","postMessage","fork","response","terminating","lastId","request","kill","webpackContext","req","webpackContextResolve","map","./Pool","./Pool.js","./Promise","./Promise.js","./WorkerHandler","./WorkerHandler.js","./environment","./environment.js","./generated/embeddedWorker","./generated/embeddedWorker.js","./header","./header.js","./worker","./worker.js","convertError","getOwnPropertyNames","reduce","product","defineProperty","enumerable","isPromise","self","process","bind","run","args","eval","apply","err","register"],"mappings":"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","file":"workerpool.map"}